{
    "fullUrl":"urn:uuid:{{ID}}",
    "resource":{
        "resourceType": "Observation",
        "id":"{{ID}}",
        "code":
        {
            {{>DataType/CWECodeableConcept.hbs CWE=OBX-3}},
        },
        "valueQuantity":
        {
            {{#if (eq OBX-2 "NM")}},
                "value":"{{OBX-5}}",
            {{/if}},
            {{#if (eq OBX-2 "SN")}},
                {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
            {{/if}},
            {{#if (eq OBX-2 "NA" "NM")}},
                {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
            {{/if}},
        },
        {{#if (eq OBX-2 "ST" "FT" "TX")}},
            "valueString":"{{OBX-5}}",
        {{/if}},
        "valueCodeableConcept":
        {
            {{#if (eq OBX-2 "CF" "CNE" "CWE" "CE")}},
                {{>DataType/CWECodeableConcept.hbs CWE=OBX-5}},
            {{/if}},
        },
        "valuePeriod":
        {
            {{#if (eq OBX-2 "DR")}},
                {{>DataType/DR.hbs DR=OBX-5}},
            {{/if}},
        },
        {{#if (eq OBX-2 "DTM" "DT")}},
            "valueDateTime":"{{formatAsDateTime OBX-5}}",
        {{/if}},
        {{#if (eq OBX-2 "TM")}},
            "valueTime":"{{OBX-5}}",
        {{/if}},
        "valueRatio":
        {
            {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 ":" "/"))}},
                {{>DataType/SNRatio.hbs SN=OBX-5}},
            {{/if}},
            "numerator":
            {
                {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 ":" "/"))}},
                    {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                {{/if}},
            },
            "denominator":
            {
                {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 ":" "/"))}},
                    {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                {{/if}},
            },
        },
        "valueRange":
        {
            {{#if (eq OBX-2 "SN")}},
                {{>DataType/SNRange.hbs SN=OBX-5}},
            {{/if}},
            "low":
            {
                {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 "-"))}},
                    {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                {{/if}},
            },
            "high":
            {
                {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 "-"))}},
                    {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                {{/if}},
            },
        },
        "interpretation":
        [
            { {{>DataType/CWECodeableConcept.hbs mapping="CodeSystem/InterpretationCode.hbs" CWE=OBX-8}} },
        ],
        "status":{{>DataType/_string.hbs mapping="CodeSystem/ObservationStatus.hbs" inCode=OBX-11 }},
        "effectiveDateTime":"{{formatAsDateTime OBX-14}}",
        "method":
        {
        },
        "bodySite":
        {
            {{>DataType/CWECodeableConcept.hbs CWE=OBX-20}},
        },
        "identifier":
        [
            { {{>DataType/EIIdentifier.hbs EI=OBX-21}} },
            {
                "type":
                {
                    "coding":
                    [
                        {
                            {{#if OBX-21}},
                                "code":"FILL",
                            {{/if}},
                        },
                    ],
                },
            },
        ],
        "component":
        [
            {
                "code":
                {
                    {{>DataType/CWECodeableConcept.hbs CWE=OBX-3}},
                },
                "valueQuantity":
                {
                    {{#if (eq OBX-2 "NM")}},
                        "value":"{{OBX-5}}",
                    {{/if}},
                    {{#if (eq OBX-2 "SN")}},
                        {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                    {{/if}},
                    {{#if (eq OBX-2 "NA" "NM")}},
                        {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                    {{/if}},
                },
                {{#if (eq OBX-2 "ST" "FT" "TX")}},
                    "valueString":"{{OBX-5}}",
                {{/if}},
                "valuePeriod":
                {
                    {{#if (eq OBX-2 "DR")}},
                        {{>DataType/DR.hbs DR=OBX-5}},
                    {{/if}},
                },
                {{#if (eq OBX-2 "DTM" "DT")}},
                    "valueDateTime":"{{formatAsDateTime OBX-5}}",
                {{/if}},
                {{#if (eq OBX-2 "TM")}},
                    "valueTime":"{{OBX-5}}",
                {{/if}},
                "valueRatio":
                {
                    {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 ":" "/"))}},
                        {{>DataType/SNRatio.hbs SN=OBX-5}},
                    {{/if}},
                    "numerator":
                    {
                        {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 ":" "/"))}},
                            {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                        {{/if}},
                    },
                    "denominator":
                    {
                        {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 ":" "/"))}},
                            {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                        {{/if}},
                    },
                },
                "valueRange":
                {
                    {{#if (eq OBX-2 "SN")}},
                        {{>DataType/SNRange.hbs SN=OBX-5}},
                    {{/if}},
                    "low":
                    {
                        {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 "-"))}},
                            {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                        {{/if}},
                    },
                    "high":
                    {
                        {{#if (and (eq OBX-2 "SN") (eq OBX-5-3 "-"))}},
                            {{>DataType/CWEQuantity.hbs CWE=OBX-6}},
                        {{/if}},
                    },
                },
                "referenceRange":
                [
                    {
                        "text":"{{OBX-7}}",
                    },
                ],
                "interpretation":
                [
                    { {{>DataType/CWECodeableConcept.hbs mapping="CodeSystem/InterpretationCode.hbs" CWE=OBX-8}} },
                ],
            },
        ],
    },
    "request":{
        "method":"PUT",
        "url":"Observation/{{ID}}",
    },
},
